## Память

(подробнее о высокоуровневой работе с памятью, см. в разделе по ЯП Forth)

### Основная память

Так как архитектура фоннеймановская, память единая для команд и данных.

- ширина слова памяти, шина данных - 32 бит
    - ширина машинного слова также 32 бит
- шина адреса - 16 бит
- стартовый адрес исполнения - 0

### Виды адресации

Подробнее см. раздел ISA.

Виды операндов команд:

- 16-бит immediate операнд
- операнды на стеке

Виды адресации:

- абсолютная, адрес на стеке
- косвенная относительная, относительно IP, смещение в immediate

### Стеки

Стеки представлены модулями с встроенным регистровым файлом на 32 регистра
для обеспечения быстрого доступа, stack-pointer'ом,
а также выходными сигналами дублирующими два верхних значения для использования в вычислениях
и передачи на системные шины данных к АЛУ.

Логика работы со стеком и его указателем встроена в модуль стека,
изменять его извне напрямую нельзя, только через отдельные управляющие сигналы.

Возможности стека описаны в системе команд и микрокоманд.
На уровне микрокода допускается использование любых стеков под любые задачи,
за тем исключением, что соблюдается семантика их использования.

Стеки:

- data stack
    - хранение пользовательских данных
    - хранение операндов
    - хранение параметров функций
    - хранение возвращаемых значений функций
- return stack
    - хранение адресов возврата
    - хранение итераторов цикла

### Регистры

Все регистры стандартизированного размера 32 бит.
Регистры общего назначения отсутствуют, ибо стековая машина.

Список регистров, доступных для любых операций в микрокоде:

- IP - указатель на адрес испольняемой команды
- CR - текущая команда
- PS - флаги
- DR, AR - регистры данных и адреса памяти
- RS, DS - входные регистры модуля стека
- IOR, IOW - регистры ввода и вывода и контроллера ввода-вывода
- DST, DSS, RST, RSS - регистры верхних двух значений обоих стеков

На уровне микрокоманд доступны все взаимодествия с регистрами,
на уровне системы команд процессора и выше прямого доступа к регистрам нет,
только через команды.
