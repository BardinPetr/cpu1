### Исполнение микрокода

Микрокоманды исполняются последовательно из ПЗУ микрокода,
в зависимости от бита типа может присутствовать условный переход. Исполнение начинается с нулевого адреса.

Размер микрокоманды всегда 64 бит, но реально используется меньше:

- exec: _42 бит_
- jump: _55 бит_

Формат команд горизонтально-вертикальный, есть поддержка
групп сигналов с множественной активацией (кодируются 1 по биту на сигнал) и
с единичной активацией (кодируются по номеру для уменьшения объема).

Устройство управления по фронту тактового импульса загружает последовательно микрокоманды из ПЗУ,
по заднему фронту происходит либо инкремент MC_PC,
либо для микрокоманд ветвления сравнение шины C с условием перехода и добавление смещения к MC_PC.

Исполнение микрокоманды в datapath происходит в 2 этапа, по переднему и заднему фронту:

- передний
    - загрузка операндов
    - работа АЛУ
- задний
    - запись в регистры, память, стек
    - работа с IO

Типы микрокоманд по представляемым возможностям:

- exec
    - чтение регистров
    - чтение памяти
    - АЛУ
    - запись регистров
    - запись памяти
    - управление IO
    - управление стеком
- jump
    - чтение регистров
    - чтение памяти
    - АЛУ
    - выполнение условного перехода в микрокоде
        - проверка происходит сравнением выбранного бита шины C с булевы значением в команде
        - переход по относительному смещению от MC_PC

### Control unit

### Datapath

### Функционирование модуля памяти

[Код модуля](src/machine/components/RAM.py).

По переднему фронту модуль выставляет на шину данных значение из памяти по адресу на шине адреса.

По заднему фронту модуль записывает в память значение
с шины данных по адресу на шине адреса при установке разрешающего сигнала.

### Функционирование модуля стека

[Код модуля](src/machine/components/ExtendedStack.py).

Выводы tos0, tos1 отображают 2 значения от вершины стека из регистрового файла при изменении указателя стека,
выводы full и empty соответственно показывают факт заполнения стека до максимума и его пустоту.

Сдвиг происходит при установке значения `in_shift` допускающего сдвиги +1, -1 и 0.
Запись в регистры проходит только в верх стек после сдвигов по заднему фронту при установленном `wr_top`.
